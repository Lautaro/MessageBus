https://codereview.stackexchange.com/questions/119192/message-bus-in-c
